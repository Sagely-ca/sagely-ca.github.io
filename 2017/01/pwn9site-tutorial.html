<!DOCTYPE html>
<html class="no-js">

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Sagely Go... | Tutorial for working with the Pwn9 Site Repo</title>
    <meta name="description" content="A tutorial for Pwn9 staff in how to work with the Pwn9 Site workflow">

    <link rel="stylesheet" href="/css/main.css">
    <link rel="icon" type="image/x-icon" href="/favicon.ico" />
    <link rel="canonical" href="http://sagely.ca/2017/01/pwn9site-tutorial">
    <link rel="alternate" type="application/rss+xml" title="Sagely Go..." href="http://sagely.ca/feed.xml" />

    <!--[if lt IE 9]>
        <script src="/js/vendor/html5shiv.min.js"></script>
    <![endif]-->
</head>


  <body class="">
    <!-- if the user has javascript disabled they can still use the menu -->
<noscript>
    <div class="no-js-menu clearfix">
        <ul>
            
                <li><i class="fa fa-home"></i><a href="/">Home</a></li>
            
                <li><i class="fa fa-anchor"></i><a href="/about">About</a></li>
            
                <li><i class="fa fa-user"></i><a href="/author/sage905">Author</a></li>
            
        </ul>
    </div>
</noscript>
<!-- end no script -->

    <header class="hero-image" style="background-image: url('/img/feature-tools.jpg');">
    <span class="menu-trigger animated fadeInDown">
        <span class="bar"></span>
        <span class="bar"></span>
        <span class="bar"></span>
    </span>

    <div id="menu-target">
    <ul>
        
            <li><i class="fa fa-home"></i><a href="/">Home</a></li>
        
            <li><i class="fa fa-anchor"></i><a href="/about">About</a></li>
        
            <li><i class="fa fa-user"></i><a href="/author/sage905">Author</a></li>
        
    </ul>
</div>

</header>

<main class="container">
    <div class="row">
        <div class="col-xs-12 single-content">
            <p class="meta">
                <a href="/author/sage905">Sage905</a> in <a href='/category/coding'>Coding</a> <i class="link-spacer"></i>
            </p>
            
            <p class="meta">
                <i class="fa fa-tags" ></i> nodejs ansible git windows pwn9
            </p>
            

            <h1>Tutorial for working with the Pwn9 Site Repo</h1>

            <div class="sect1">
<h2 id="introduction">Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This is probably not of interest to most people, but could be of interest to anyone who is interested in how I have set up our development environment.</p>
</div>
<div class="paragraph">
<p>This tutorial should help you get started developing on the Pwn9 website repository.  It gives you the basic details on how to get your environment set up.  It does <strong>not</strong> tell you anything about how to actually work with the code base.  That will come in another tutorial. :)</p>
</div>
<div class="paragraph">
<p>I created a screencast of the process, which you can watch below:</p>
</div>
<div class="videoblock">
<div class="content">
<iframe width="640" height="480" src="https://www.youtube.com/embed/kvrIG6E7N84?rel=0" frameborder="0" allowfullscreen></iframe>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="setup_for_windows_10">Setup for Windows 10</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To begin, we&#8217;ll need to install some tools.  Go and grab <a href="https://git-scm.com/downloads">Git</a> and install it.  (The default settings should be fine).  Additionally, you will want to install <a href="http://www.chiark.greenend.org.uk/~sgtatham/putty/latest.html">Putty and it&#8217;s tools</a>, if you haven&#8217;t got them already.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Tremor has suggested that the <a href="https://www.sourcetreeapp.com/">Sourcefire</a> client is more user-friendly for Windows users.  I don&#8217;t have it in my video tutorial, but you can use that client if you wish, instead.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>In order to clone the private repository, you will need to use an SSH Key.  If you have previously provided one to Sage, it will already be set up for your use.  You will need to copy your private key into the correct place for Git to be able to make use of it.</p>
</div>
<div class="paragraph">
<p>Finally, to run the server locally for testing, you will need to install <a href="https://nodejs.org/">node.js</a>.  The exact version required will be specified in the <code>package.json</code> file in the repository root.  At the time of this writing, we are using v6.9.4 LTS.  As with the other required software, the default installation options are fine.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="generating_an_ssh_key">Generating an SSH Key</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Let&#8217;s walk through the creation of your ssh key, if you don&#8217;t have one, or lost yours.  If you have one, skip to the next section, below.  First, open the "PuTTYgen" application, and generate a new SSH-2 RSA key by clicking the "Generate" button.  You will need to move your mouse around a bunch to generate some randomness.  When it is done, you should see something like this:</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="/img/post/putty_key.png" alt="putty key" width="50%">
</div>
</div>
<div class="paragraph">
<p>You should then enter a passphrase, to protect your key.  If someone gets a hold of your keyfile, and there&#8217;s no passphrase, they can use the key to impersonate you, and do BadThings(tm).  Once you&#8217;ve added a passphrase, save the private key somewhere you&#8217;ll be able to find it again.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="exporting_your_ssh_private_key_to_use_with_git">Exporting your SSH Private Key to use with Git</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Open your key in the PuTTYgen tool.  Go to Conversions&#8594;Export OpenSSH Key.  Save your private key in the C:\Users\&lt;yourusername&gt;\.ssh\ directory with a filename of: "id_rsa".  (NOTE: If you already have an id_rsa here, you probably don&#8217;t want to overwrite it.  If you don&#8217;t know what to do at this point, go to Chinatown.  Ask for Caine.  He will help.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="cloning_the_repository">Cloning the Repository</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To clone the repository, you launch the GitUI, and put the source repository name <code>git@pwn9.sagley.ca:pwn9site.git</code> in the Source box, and You select a destination location on your computer.  Put it on your desktop, or your documents folder, or in C:\, it doesn&#8217;t matter.</p>
</div>
<div class="paragraph">
<p>To make changes, you&#8217;ll want to check out the <code>develop</code> branch as a new feature branch.  Do this in the Git Bash shell by cd&#8217;ing to the folder you checked the code out into, and typing: <code>git checkout -b feature/&lt;yourfeaturename&gt; origin/develop</code>.  This will create a new branch, based on the latest development branch.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="setting_up_node_modules">Setting up Node modules</h2>
<div class="sectionbody">
<div class="paragraph">
<p>After you have checked out the code repository, you will need to downlod/build the modules required for the application to run.  You can do this either in the Node.js Command Prompt, or a regular Command Prompt.  cd to the directory where the application was cloned, and run the npm install command:</p>
</div>
<div class="paragraph">
<p>In a 'cmd' shell:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>C:\Users\sage&gt;cd C:\Users\sage\Desktop\pwn9Site
C:\Users\sage&gt;npm install</pre>
</div>
</div>
<div class="paragraph">
<p>In a 'bash' shell:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>&gt; cd /c/Users/sage/Desktop/pwn9site
&gt; npm install

This will take quite some time to download all of the required modules and install them.  When this step is complete, you can start work on development.</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="building_the_application">Building the Application</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Thanks to the very nice tutorials done by James Shore on his <a href="http://letscodejavascript.com/">Let&#8217;s Code Javascript</a> site, I decided to use his <a href="https://github.com/jamesshore/automatopia">automatopia</a> skeleton to set up this site.  What this provides is a good starting point for a basic workflow, test framework, and build system without locking into anything.</p>
</div>
<div class="paragraph">
<p>The build tool is called <a href="http://jakejs.com/">jake</a>, and it is roughly equivalent to "make" or "rake" (but not "shake" and "bake").  Tasks are defined in javascript, and you can get a list of them by typing <code>./jake.sh -T</code> (unix shell) or <code>jake -T</code> (windows cmd).  You&#8217;ll get a nice list of build tasks, and their descriptions:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>jake default               Lint and test
jake run                   Start server (for manual testing)
jake clean                 Delete generated files
jake lint                  Lint everything
jake karma                 Start Karma server -- run this first
jake test                  Run tests
jake build                 Build distribution package
jake version               Check Node version</pre>
</div>
</div>
<div class="paragraph">
<p>To build the code base, we can run <code>jake build</code>.  Or, we can execute <code>jake run</code>, which will build the code, and start a local web server that you can use to do testing on.  You can reach the server by using your web browser to visit: <a href="http://localhost:5000">http://localhost:5000</a></p>
</div>
<div class="paragraph">
<p>If you&#8217;ve done all the previous steps correctly, you should see the latest development version of the site.</p>
</div>
<div class="paragraph">
<p>The video tutorial will show you how to make a small change and push a commit, but I&#8217;m going to discuss that in the next part of the tutorial, with the whole workflow.</p>
</div>
<div class="paragraph">
<p>See [Part 2 Coming soon!] of the tutorial for more.</p>
</div>
</div>
</div>


            
            <div id="disqus_thread"></div>
            <script>

                /**
                 *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
                 *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
                var disqus_config = function () {
                    this.page.url = "http://sagely.ca/2017/01/pwn9site-tutorial";  // Replace PAGE_URL with your page's canonical URL variable
                    this.page.identifier = "/2017/01/pwn9site-tutorial"; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
                };

                (function() { // DON'T EDIT BELOW THIS LINE
                    var d = document, s = d.createElement('script');
                    s.src = '//sagely.disqus.com/embed.js';
                    s.setAttribute('data-timestamp', +new Date());
                    (d.head || d.body).appendChild(s);
                })();
            </script>
            <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

            

        </div><!-- main-content/col -->
    </div> <!--/row -->

</main> <!-- /container -->


<footer class="single">
    <div class="container">
    <div class="row">
        <div class="col-xs-12 col-sm-2">
            <img src="/img/sage.jpg" class="user-icon " alt="user-image">
        </div>
        <div class="col-xs-12 col-sm-6">
            <div class="category-list">
                <p>Published <span>Jan 28, 2017</span></p>
                <p><a href="/author/sage905">Sage905</a> in <a href='/category/coding'>Coding</a></p>

                <div class="other-catergories">
                    <h3>Also found in</h3>

                    <ul>
                        
                        <li>
                            <a href='/category/coding'>Coding</a>
                            
                        </li>
                        
                    </ul>
                </div>
            </div>
        </div><!-- end col -->
        <div class="col-xs-12 col-sm-4">
            <div class="social">
                <p>Share this article</p>
                <div class="social-links">
                    <a class="social-icon" href="#" data-platform="twitter" data-message="" data-url="http://sagely.ca/2017/01/pwn9site-tutorial"><i class="fa fa-twitter"></i></a>

                    <a class="social-icon" href="#" data-platform="facebook" data-message="" data-url="http://sagely.ca/2017/01/pwn9site-tutorial"><i class="fa fa-facebook-official"></i></a>
                    <a class="social-icon" data-platform="mail"  href="mailto:?body=http://sagely.ca/2017/01/pwn9site-tutorial"><i class="fa fa-envelope"></i></a>
                </div>
            </div>
        </div>
    </div><!-- end row -->
</div>


    
        <div class="row read-another-section">
    
        
        <a href="/2017/01/Ansible_to_Manage_Personal_Servers"><div class="col-sm-6 col-md-2 no-gutter read-another-container">
            <div class="overlay"></div>
            <img src='/img/recommend-laptop.jpg'>
            <h3 class="read-another">Ansible to Manage Personal Servers</h3>
        </div></a>
        
    
        
        <a href="/2017/01/Social_Notworking"><div class="col-sm-6 col-md-2 no-gutter read-another-container">
            <div class="overlay"></div>
            <img src='/img/recommend-wolf.jpg'>
            <h3 class="read-another">Social Notworking</h3>
        </div></a>
        
    
        
        <a href="/2016/12/Jekyll-and-AsciiDoc"><div class="col-sm-6 col-md-2 no-gutter read-another-container">
            <div class="overlay"></div>
            <img src='/img/recommend-laptop.jpg'>
            <h3 class="read-another">Jekyll and Asciidoc</h3>
        </div></a>
        
    
        
        <a href="/2017/01/Politics"><div class="col-sm-6 col-md-2 no-gutter read-another-container">
            <div class="overlay"></div>
            <img src='/img/recommend-fire.jpg'>
            <h3 class="read-another">My Politics</h3>
        </div></a>
        
    
        
        <a href="/2016/06/What-is-Sagely"><div class="col-sm-6 col-md-2 no-gutter read-another-container">
            <div class="overlay"></div>
            <img src='/img/recommend-wolf.jpg'>
            <h3 class="read-another">What is Sagely?</h3>
        </div></a>
        
    
</div>
    
</footer>


    <script src='/js/vendor/modernizr.custom.32229-2.8-respondjs-1-4-2.js'></script>
    <script src="/js/vendor/jquery-1.11.2.min.js"></script>
    <script src='/js/vendor/jquery.jpanelmenu.min.js'></script>
    <script type='application/javascript' src='/js/vendor/fastclick.min.js'></script>
    
    <script src=' /js/main.js'></script>
    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-89685712-1', 'auto');
        ga('send', 'pageview');

    </script>
  </body>

</html>
